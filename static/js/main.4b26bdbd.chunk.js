(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{23:function(e,t,a){e.exports=a(53)},28:function(e,t,a){},30:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(18),i=a.n(s),c=(a(28),a(22)),r=a(21),l=a(8),u=a.n(l),h=a(3),m=a(4),d=a(6),k=a(5),f=a(2),p=a(7);a(30);function v(e){return e>=15?"em-rolling_on_the_floor_laughing":e>=12?"em-joy":e>=9?"em-stuck_out_tongue_closed_eyes":e>=6?"em-laughing":e>=3?"em-grinning":e>=0?"em-neutral_face":e>=-3?"em-face_with_raised_eyebrow":"em-angry"}var j=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(k.a)(t).call(this,e))).handleUpVote=a.handleUpVote.bind(Object(f.a)(a)),a.handleDownVote=a.handleDownVote.bind(Object(f.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleDownVote",value:function(e){this.props.vote(this.props.id,-1)}},{key:"handleUpVote",value:function(e){this.props.vote(this.props.id,1)}},{key:"render",value:function(){return o.a.createElement("li",{className:"Joke"},o.a.createElement("div",{className:"Joke-buttons"},o.a.createElement("i",{className:"fas fa-arrow-up",onClick:this.handleUpVote}),o.a.createElement("span",{className:"Joke-votes",style:{borderColor:(e=this.props.votes,e>=15?"#4CAF50":e>=12?"#8BC34A":e>=9?"#CDDC39":e>=6?"#FFEB3B":e>=3?"#FFC107":e>=0?"#FF9800":"#f44336")}},this.props.votes),o.a.createElement("i",{className:"fas fa-arrow-down",onClick:this.handleDownVote})),o.a.createElement("div",{className:"Joke-text"},this.props.text),o.a.createElement("div",{className:"Joke-smiley"},o.a.createElement("i",{className:"em ".concat(v(this.props.votes))})));var e}}]),t}(n.Component),g=a(19),b=a.n(g),J=a(20),w=a.n(J),E=(a(51),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(k.a)(t).call(this,e))).renderJokes=function(){return a.state.jokes.map((function(e){return o.a.createElement(j,Object.assign({key:e.id},e,{vote:a.vote}))}))},a.state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]").sort((function(e,t){return t.votes-e.votes})),loading:!1},a.sceenJokes=new Set(a.state.jokes.map((function(e){return e.text}))),a.vote=a.vote.bind(Object(f.a)(a)),a.getJokes=a.getJokes.bind(Object(f.a)(a)),a.fetchJokes=a.fetchJokes.bind(Object(f.a)(a)),a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.state.jokes.length<=0&&this.getJokes(10)}},{key:"getJokes",value:function(e){var t=this;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:this.setState({loading:!0},(function(){return t.fetchJokes(e)}));case 1:case"end":return a.stop()}}),null,this)}},{key:"fetchJokes",value:function(e){var t,a,n,o=this;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:t=[],a="";case 2:if(!(t.length<e)){s.next=10;break}return s.next=5,u.a.awrap(b.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}}));case 5:n=s.sent,a=n.data.joke,this.sceenJokes.has(a)?console.log("Duplicated Joke",a):t.push({id:w()(),text:a,votes:0}),s.next=2;break;case 10:this.setState((function(e){return{jokes:[].concat(Object(r.a)(e.jokes),t).sort((function(e,t){return t.votes-e.votes})),loading:!1}}),(function(){window.localStorage.setItem("jokes",JSON.stringify(o.state.jokes))}));case 11:case"end":return s.stop()}}),null,this)}},{key:"vote",value:function(e,t){var a=this;this.setState((function(a){return{jokes:a.jokes.map((function(a){return a.id===e?Object(c.a)({},a,{votes:a.votes+t}):a}))}}),(function(){window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))}))}},{key:"handleClick",value:function(e){this.getJokes(10)}},{key:"render",value:function(){return this.state.loading?o.a.createElement("div",{className:"JokeList-spinner"},o.a.createElement("i",{className:"far fa-8x fa-laugh fa-spin"}),o.a.createElement("h1",{className:"JokeList-title"},"Loading...")):o.a.createElement("div",{className:"JokeList"},o.a.createElement("div",{className:"JokeList-sidebar"},o.a.createElement("h1",{className:"JokeList-title"},o.a.createElement("span",null,"Dad")," Jokes"),o.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/emojione/211/face-with-tears-of-joy_1f602.png",alt:"lol face"}),o.a.createElement("button",{className:"JokeList-button",onClick:this.handleClick},"Get more!")),o.a.createElement("ul",{className:"JokeList-container"},this.renderJokes()))}}]),t}(n.Component));E.defaultProps={numJokesToGet:10};var y=E;a(52);var O=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.4b26bdbd.chunk.js.map